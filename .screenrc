# -*- mode: sh -*-

# This is how one can set a reattach password:
# password ODSJQf.4IJN7E    # "1234"

# no annoying audible bell, please
activity '~Activity in window %'
bell '~Bell in window %'
vbell on

# detach on hangup
autodetach on

# don't display the copyright page
startup_message off

# emulate .logout message
pow_detach_msg "Screen session of \$LOGNAME \$:cr:\$:nl:ended."

# Make shell "sticky" - bypass shell switching mechanism if it's in use
shell $SHELL

defscrollback 3000

#hardstatus lastline "%{=}%?%{+b Y}%-Lw%{-}%?%{= BW}%n*%f %t%?(%u)%?%{-}%?%{+b Y}%+Lw%?%{-}"
# ANSI works with older screens
hardstatus lastline "[0m%?[1;33m%-Lw[0m%?[44;37m%n*%f %t%?(%u)%?[0m%?[1;33m%+Lw%?[0m"

# don't kill window after the process died
# zombie "^["

# C-a is too useful to rebind as a prefix.  This is actually two
# "characters", the first being ^\, and the second \\.
defescape ^\\\
escape ^\\\

# Bind delete to ^?.  kD is termcap-speak for delete (-k uses termcap-speak)
bindkey -k kD stuff "\177"

# F2 (F1 is used by Eterm).  Doesn't work; use cx instead.
#bindkey -k k2 title

# Doesn't work either.  BAH!!!!
bindkey -k k3 multiuser off
bindkey -k k4 multiuser on
# NOTE: to do multiuser, you must have screen setuid root.
# grep screen(1) for 'owner'

# F1 is F11, believe it or not.
bindkey -k F1 colon

# PageUp switches to copy mode and goes up a page
bindkey -t -k kP eval copy "stuff ^U^Uj"
#bindkey -t -k %e eval copy "stuff ^U^Uj"

# BAH!
# termcap xterm* %i=\E[C
# bindkey -k \%i next
# bindkey "[c" next
# bindkey "[d" prev
# bindkey "^[" command -c escape
# bind -c escape "[" command -c escape-left-square
# bind -c escape-left-square "C" next
# bind -c escape-left-square "D" prev
 
# Default startup windows (-t <title>).
# Presumably if I'm using screen I want at least 2 windows.
screen
screen
#screen
# start with 0th window
select 0

# Imbeciles!!!!
msgwait 1
# might need this one too
msgminwait 1
